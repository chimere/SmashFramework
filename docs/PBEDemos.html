<!DOCTYPE html>  <html> <head>   <title>PBEDemos.as</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">        <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                   <b> 1. First Steps </b>                          <a class="source" href="PBEDemos.html">       PBEDemos.as      </a>                          <a class="source" href="SimplestRendererScene.html">       SimplestRendererScene.as      </a>                          <a class="source" href="SimplestSpriteRenderer.html">       SimplestSpriteRenderer.as      </a>                          <a class="source" href="BindingDemoScene.html">       BindingDemoScene.as      </a>                          <a class="source" href="SimplestSpatialComponent.html">       SimplestSpatialComponent.as      </a>                          <a class="source" href="MouseFollowerScene.html">       MouseFollowerScene.as      </a>                          <a class="source" href="SimplestMouseFollowComponent.html">       SimplestMouseFollowComponent.as      </a>                          <a class="source" href="CirclePickupScene.html">       CirclePickupScene.as      </a>                          <a class="source" href="GemManager.html">       GemManager.as      </a>                          <b> 2. Building Gameplay </b>                          <a class="source" href="CirclePickupWithTimeManagerScene.html">       CirclePickupWithTimeManagerScene.as      </a>                          <a class="source" href="OneButtonDemoScene.html">       OneButtonDemoScene.as      </a>                          <a class="source" href="OneButtonWithTweenDemoScene.html">       OneButtonWithTweenDemoScene.as      </a>                          <a class="source" href="TwoButtonDemoScene.html">       TwoButtonDemoScene.as      </a>                          <a class="source" href="CarDemoScene.html">       CarDemoScene.as      </a>                          <a class="source" href="FSMDemoScene.html">       FSMDemoScene.as      </a>                               </div>         </div>       </div>      <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs" colspan="2">             <h1>               PBEDemos.as             </h1>           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h2>Introduction</h2>

<p>PushButton Engine is an industrial strength open source Flash game framework.</p>

<p>Its home page is <a href="http://PushButtonLabs.github.com/PushButtonEngine">http://PushButtonLabs.github.com/PushButtonEngine</a>.</p>

<p>You can click the Jump To.. button in the top right of the page to navigate
to different parts of the documentation.</p>

<p>PBE uses <a href="http://jashkenas.github.com/docco/">Docco</a> to document itself. As
you read these docs, you are reading through the PBEDemos demo framework
that ship with PBE. (See all that code on the right hand side?) Each demo
covers a specific feature of the engine, and by reading through the docs,
you'll learn all about PBE!</p>

<h2>Compiling PBEDemos</h2>

<p>Create a new ActionScript FlashBuilder project named PBEDemos pointing at
your copy of PBE (specifically, the parent of the src/ folder). Set the 
compiler options from the next section. Great! You're good to go. Compile,
run, and follow along.</p>

<h2>Using PBE In Your Project</h2>

<p>To use PBE, create a folder called com/pblabs in your source directory and 
copy everything from PBE's src/com/pblabs folder into it.</p>

<p>Don't forget to add the following to your compiler options:</p>

<pre><code>--keep-as3-metadata+=TypeHint,EditorData,Embed,Inject,PostInject
</code></pre>

<p>And that's it!</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">package</span>
<span class="p">{</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">greensock</span><span class="p">.</span><span class="nx">OverwriteManager</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">greensock</span><span class="p">.</span><span class="nx">TweenMax</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">core</span><span class="p">.</span><span class="nx">PBGameObject</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">core</span><span class="p">.</span><span class="nx">PBGroup</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">debug</span><span class="p">.</span><span class="nx">Console</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">debug</span><span class="p">.</span><span class="nx">ConsoleCommandManager</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">debug</span><span class="p">.</span><span class="nx">Logger</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">KeyboardManager</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">property</span><span class="p">.</span><span class="nx">PropertyManager</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">simplest</span><span class="p">.</span><span class="nx">SimplestMouseFollowComponent</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">simplest</span><span class="p">.</span><span class="nx">SimplestSpatialComponent</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">simplest</span><span class="p">.</span><span class="nx">SimplestSpriteRenderer</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">TimeManager</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">TypeUtility</span><span class="o">;</span>
    
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_01_simplestRenderer</span><span class="p">.</span><span class="nx">SimplestRendererScene</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_02_bindingDemo</span><span class="p">.</span><span class="nx">BindingDemoScene</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_03_mouseFollower</span><span class="p">.</span><span class="nx">MouseFollowerScene</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_04_circlePickup</span><span class="p">.</span><span class="nx">CirclePickupScene</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_05_circlePickupWithTimeManager</span><span class="p">.</span><span class="nx">CirclePickupWithTimeManagerScene</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_06_oneButtonDemo</span><span class="p">.</span><span class="nx">OneButtonDemoScene</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_07_twoButtonDemo</span><span class="p">.</span><span class="nx">TwoButtonDemoScene</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_08_carDemo</span><span class="p">.</span><span class="nx">CarDemoScene</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_09_stateMachineDemo</span><span class="p">.</span><span class="nx">FSMDemoScene</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">molehill</span><span class="p">.</span><span class="nx">MolehillScene</span><span class="o">;</span>
    
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">Sprite</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">Stage</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">StageAlign</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">StageScaleMode</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nb">Event</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nb">KeyboardEvent</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">geom</span><span class="p">.</span><span class="nb">Point</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nb">TextField</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nb">TextFieldAutoSize</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nb">TextFormat</span><span class="o">;</span>
    </pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h2>PBEDemos?</h2>

<p>PBEDemos is a sweet PushButton Engine demo framework. It switches 
between different small PBE demo applications, using the &lt; and > keys.</p>

<p>If you are brand new to PBE, you might want to start with one of these
very small demos, like
<a href="SimplestRendererScene.html">SimplestRendererScene.as</a>, rather
than digesting the demo framework.</p>

<p>PBEDemos cycles amongst multiple demo "scenes" to show off
various parts of the engine's capabilities. Use &lt; and > to change the 
demo. Press ~ (tilde) to bring up the console. Type help to learn about
the different debug commands.</p>

<p>The demo scenes are all implemented in their own classes that live in 
the demo package. A great way to learn the engine is to read through
each demo, in order, and look at the demo app at the same time.</p>             </td>             <td class="code">               <div class="highlight"><pre>     </pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h2>The Demo Framework</h2>

<p>Look at the code on the right and follow along!</p>

<p>PBEDemos acts to load and unload instances of the classes that implement
the various PBEDemos. It contains some book-keeping and UI code to 
manage this, and it makes a few standard things available to the demos.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="p">[</span><span class="nx">SWF</span><span class="p">(</span><span class="nx">frameRate</span><span class="o">=</span><span class="s2">&quot;32&quot;</span><span class="o">,</span><span class="nx">wmode</span><span class="o">=</span><span class="s2">&quot;direct&quot;</span><span class="p">)]</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nx">PBEDemos</span> <span class="kd">extends</span> <span class="nb">Sprite</span>
    <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>rootGroup is a PBGroup that contains the current demo scene. It
provides a few dependencies that every demo needs.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="k">var</span> <span class="nx">rootGroup</span><span class="o">:</span><span class="nx">PBGroup</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PBGroup</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>We maintain a list of all the demo scenes that we'll cycle between,
identified by their type. (The molehill demo requires a molehill
enabled dev environment and is disabled by default.)</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="k">var</span> <span class="nx">sceneList</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> 
            <span class="p">[</span> <span class="nx">SimplestRendererScene</span><span class="o">,</span> <span class="nx">BindingDemoScene</span><span class="o">,</span> <span class="nx">MouseFollowerScene</span><span class="o">,</span> 
                <span class="nx">CirclePickupScene</span><span class="o">,</span> <span class="nx">CirclePickupWithTimeManagerScene</span><span class="o">,</span> 
                <span class="nx">OneButtonDemoScene</span><span class="o">,</span> <span class="nx">TwoButtonDemoScene</span><span class="o">,</span> <span class="nx">CarDemoScene</span><span class="o">,</span>
                <span class="nx">FSMDemoScene</span> <span class="cm">/*, MolehillScene*/</span> <span class="p">];</span>
        </pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Keep track of the current demo scene.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="k">var</span> <span class="nx">currentSceneIndex</span><span class="o">:</span><span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kd">public</span> <span class="k">var</span> <span class="nx">currentScene</span><span class="o">:</span><span class="nx">PBGroup</span><span class="o">;</span>
        </pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>We have a couple of UI elements to show whether the demo is
paused, how to work the demo, and what demo is currently running.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="k">var</span> <span class="nx">sceneCaption</span><span class="o">:</span><span class="nb">TextField</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">TextField</span><span class="p">();</span>
        <span class="kd">public</span> <span class="k">var</span> <span class="nx">usageCaption</span><span class="o">:</span><span class="nb">TextField</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">TextField</span><span class="p">();</span>
        <span class="kd">public</span> <span class="k">var</span> <span class="nx">pauseCaption</span><span class="o">:</span><span class="nb">TextField</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">TextField</span><span class="p">();</span>
        </pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h2>PBEDemos Constructor</h2>

<p>Initialize the demo and show the first scene.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">function</span> <span class="nx">PBEDemos</span><span class="p">()</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Set up the TweenMax plugins we use. PBEDemos uses TweenMax for 
some nice animation effects, but TweenMax is not a standard
part of PBE. It is, however, a great tweening library.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">OverwriteManager</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">OverwriteManager</span><span class="p">.</span><span class="nx">AUTO</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Set the stage to resize properly.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">stage</span><span class="p">.</span><span class="nx">align</span> <span class="o">=</span> <span class="nb">StageAlign</span><span class="p">.</span><span class="nx">TOP_LEFT</span><span class="o">;</span>
            <span class="nx">stage</span><span class="p">.</span><span class="nx">scaleMode</span> <span class="o">=</span> <span class="nb">StageScaleMode</span><span class="p">.</span><span class="nx">NO_SCALE</span><span class="o">;</span>
            </pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Set up the root group for the demo and register a few useful
managers. Managers are available via dependency injection to the
demo scenes and objects.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">rootGroup</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
            <span class="nx">rootGroup</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;PBEDemoGroup&quot;</span><span class="o">;</span>
            <span class="nx">rootGroup</span><span class="p">.</span><span class="nx">registerManager</span><span class="p">(</span><span class="nb">Stage</span><span class="o">,</span> <span class="nx">stage</span><span class="p">);</span>
            <span class="nx">rootGroup</span><span class="p">.</span><span class="nx">registerManager</span><span class="p">(</span><span class="nx">PropertyManager</span><span class="o">,</span> <span class="k">new</span> <span class="nx">PropertyManager</span><span class="p">());</span>
            <span class="nx">rootGroup</span><span class="p">.</span><span class="nx">registerManager</span><span class="p">(</span><span class="nx">ConsoleCommandManager</span><span class="o">,</span> <span class="k">new</span> <span class="nx">ConsoleCommandManager</span><span class="p">());</span>
            <span class="nx">rootGroup</span><span class="p">.</span><span class="nx">registerManager</span><span class="p">(</span><span class="nx">TimeManager</span><span class="o">,</span> <span class="k">new</span> <span class="nx">TimeManager</span><span class="p">());</span>
            <span class="nx">rootGroup</span><span class="p">.</span><span class="nx">registerManager</span><span class="p">(</span><span class="nx">KeyboardManager</span><span class="o">,</span> <span class="k">new</span> <span class="nx">KeyboardManager</span><span class="p">());</span>
            <span class="nx">rootGroup</span><span class="p">.</span><span class="nx">registerManager</span><span class="p">(</span><span class="nx">Console</span><span class="o">,</span> <span class="k">new</span> <span class="nx">Console</span><span class="p">());</span>
            </pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Listen for keyboard events.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">stage</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nb">KeyboardEvent</span><span class="p">.</span><span class="nx">KEY_UP</span><span class="o">,</span> <span class="nx">onKeyUp</span><span class="p">);</span>
            </pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Detect when the app gains or loses focus; we will display a 
pause caption in this case and pause the TimeManager.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">stage</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nb">Event</span><span class="p">.</span><span class="nx">DEACTIVATE</span><span class="o">,</span> <span class="nx">onDeactivate</span><span class="p">);</span>
            <span class="nx">stage</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nb">Event</span><span class="p">.</span><span class="nx">ACTIVATE</span><span class="o">,</span> <span class="nx">onActivate</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Set up the scene caption. This will display the type of the 
demo we're currently viewing. (ie, SimplestRendererDemo)</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">sceneCaption</span><span class="p">.</span><span class="nx">autoSize</span> <span class="o">=</span> <span class="nb">TextFieldAutoSize</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">;</span>
            <span class="nx">sceneCaption</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;Loading..&quot;</span><span class="o">;</span>
            <span class="nx">sceneCaption</span><span class="p">.</span><span class="nx">mouseEnabled</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
            <span class="nx">sceneCaption</span><span class="p">.</span><span class="nx">textColor</span> <span class="o">=</span> <span class="mh">0x0</span><span class="o">;</span>
            <span class="nx">sceneCaption</span><span class="p">.</span><span class="nx">defaultTextFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">TextFormat</span><span class="p">(</span><span class="kc">null</span><span class="o">,</span> <span class="mi">48</span><span class="o">,</span> <span class="mh">0x0</span><span class="o">,</span> <span class="kc">true</span><span class="p">);</span>
            <span class="nx">addChild</span><span class="p">(</span><span class="nx">sceneCaption</span><span class="p">);</span>
            </pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Set up the usage caption. This shows the user what keys will
control PBEDemos.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">usageCaption</span><span class="p">.</span><span class="nx">autoSize</span> <span class="o">=</span> <span class="nb">TextFieldAutoSize</span><span class="p">.</span><span class="nx">CENTER</span><span class="o">;</span>
            <span class="nx">usageCaption</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">stage</span><span class="p">.</span><span class="nx">stageHeight</span> <span class="o">-</span> <span class="mi">32</span><span class="o">;</span>
            <span class="nx">usageCaption</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="nx">usageCaption</span><span class="p">.</span><span class="nx">mouseEnabled</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
            <span class="nx">usageCaption</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">stage</span><span class="p">.</span><span class="nx">stageWidth</span><span class="o">;</span>
            <span class="nx">usageCaption</span><span class="p">.</span><span class="nx">defaultTextFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">TextFormat</span><span class="p">(</span><span class="kc">null</span><span class="o">,</span> <span class="mi">24</span><span class="o">,</span> <span class="mh">0x0</span><span class="o">,</span> <span class="kc">true</span><span class="p">);</span>
            <span class="nx">usageCaption</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;~ for console, &lt; for previous demo, &gt; for next demo.&quot;</span><span class="o">;</span>
            <span class="nx">usageCaption</span><span class="p">.</span><span class="nx">textColor</span> <span class="o">=</span> <span class="mh">0x0</span><span class="o">;</span>
            <span class="nx">addChild</span><span class="p">(</span><span class="nx">usageCaption</span><span class="p">);</span>
            </pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Set up the paused caption. This is displayed when the demo loses
focus.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">pauseCaption</span><span class="p">.</span><span class="nx">autoSize</span> <span class="o">=</span> <span class="nb">TextFieldAutoSize</span><span class="p">.</span><span class="nx">CENTER</span><span class="o">;</span>
            <span class="nx">pauseCaption</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">stage</span><span class="p">.</span><span class="nx">stageHeight</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">64</span><span class="o">;</span>
            <span class="nx">pauseCaption</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="nx">pauseCaption</span><span class="p">.</span><span class="nx">mouseEnabled</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
            <span class="nx">pauseCaption</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">stage</span><span class="p">.</span><span class="nx">stageWidth</span><span class="o">;</span>
            <span class="nx">pauseCaption</span><span class="p">.</span><span class="nx">defaultTextFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">TextFormat</span><span class="p">(</span><span class="kc">null</span><span class="o">,</span> <span class="mi">48</span><span class="o">,</span> <span class="mi">0</span><span class="nx">xFF0000</span><span class="o">,</span> <span class="kc">true</span><span class="p">);</span>
            <span class="nx">pauseCaption</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;Paused!&quot;</span><span class="o">;</span>
            <span class="nx">pauseCaption</span><span class="p">.</span><span class="nx">textColor</span> <span class="o">=</span> <span class="mh">0x0</span><span class="o">;</span>
            <span class="nx">addChild</span><span class="p">(</span><span class="nx">pauseCaption</span><span class="p">);</span>
            </pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Make sure first demo is loaded.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">updateScene</span><span class="p">();</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <h2>Event.DEACTIVATE Handler</h2>

<p>Called when we lose focus; we fade in the pause caption and set
the TimeManager timeScale to zero to pause our game. Note this only
affects things that use the TimeManager, not components that directly
listen for Event.ENTER_FRAME! </p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">protected</span> <span class="kd">function</span> <span class="nx">onDeactivate</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nb">Event</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="nx">TweenMax</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nx">pauseCaption</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="p">{</span><span class="nx">alpha</span><span class="o">:</span> <span class="mi">1</span><span class="p">});</span>
            <span class="p">(</span><span class="nx">rootGroup</span><span class="p">.</span><span class="nx">getManager</span><span class="p">(</span><span class="nx">TimeManager</span><span class="p">)</span> <span class="nx">as</span> <span class="nx">TimeManager</span><span class="p">).</span><span class="nx">timeScale</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <h2>Event.ACTIVATE Handler</h2>

<p>Called when we gain focus; we fade out the pause caption and set
the TimeManager timeScale to one to resume our game. Note this only
affects things that use the TimeManager, not components that directly
listen for Event.ENTER_FRAME! </p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">protected</span> <span class="kd">function</span> <span class="nx">onActivate</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nb">Event</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="nx">TweenMax</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nx">pauseCaption</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="p">{</span><span class="nx">alpha</span><span class="o">:</span> <span class="mi">0</span><span class="p">});</span>
            <span class="p">(</span><span class="nx">rootGroup</span><span class="p">.</span><span class="nx">getManager</span><span class="p">(</span><span class="nx">TimeManager</span><span class="p">)</span> <span class="nx">as</span> <span class="nx">TimeManager</span><span class="p">).</span><span class="nx">timeScale</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <h2>Scene Switching Handler</h2>

<p>Called when the scene index is changed, to make sure the index is
valid, then to destroy the old demo scene, create the new demo scene,
and to update the UI.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">protected</span> <span class="kd">function</span> <span class="nx">updateScene</span><span class="p">()</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>Make sure the current index is valid.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">currentSceneIndex</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
                <span class="nx">currentSceneIndex</span> <span class="o">=</span> <span class="nx">sceneList</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">currentSceneIndex</span> <span class="o">&gt;</span> <span class="nx">sceneList</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="nx">currentSceneIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            </pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Note our change in state.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">Logger</span><span class="p">.</span><span class="nx">print</span><span class="p">(</span><span class="k">this</span><span class="o">,</span> <span class="s2">&quot;Changing scene to #&quot;</span> <span class="o">+</span> <span class="nx">currentSceneIndex</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="nx">sceneList</span><span class="p">[</span><span class="nx">currentSceneIndex</span><span class="p">]);</span>
            </pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>Destroy old scene and instantiate new scene.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">currentScene</span><span class="p">)</span>
                <span class="nx">currentScene</span><span class="p">.</span><span class="nx">destroy</span><span class="p">();</span>
            <span class="nx">currentScene</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">sceneList</span><span class="p">[</span><span class="nx">currentSceneIndex</span><span class="p">];</span>
            <span class="nx">currentScene</span><span class="p">.</span><span class="nx">owningGroup</span> <span class="o">=</span> <span class="nx">rootGroup</span><span class="o">;</span>
            <span class="nx">currentScene</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
            </pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>Trigger UI to show the new scene we've selected.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">sceneCaption</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getObjectClassName</span><span class="p">(</span><span class="nx">currentScene</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;::&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span>
            <span class="nx">TweenMax</span><span class="p">.</span><span class="nx">killTweensOf</span><span class="p">(</span><span class="nx">sceneCaption</span><span class="p">);</span>
            <span class="nx">sceneCaption</span><span class="p">.</span><span class="nx">alpha</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="nx">TweenMax</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nx">sceneCaption</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="p">{</span><span class="nx">alpha</span><span class="o">:</span><span class="mi">0</span><span class="o">,</span> <span class="nx">delay</span><span class="o">:</span> <span class="mf">2.0</span> <span class="p">});</span> 
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <h2>KeyboardEvent.KEY_UP Handler</h2>

<p>Global key handler to switch scenes. We listen with normal Flash
so that we don't interfere with the activity of the various
demos.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">protected</span> <span class="kd">function</span> <span class="nx">onKeyUp</span><span class="p">(</span><span class="nx">ke</span><span class="o">:</span><span class="nb">KeyboardEvent</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>Figure out what key was hit.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">var</span> <span class="nx">keyAsString</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">ke</span><span class="p">.</span><span class="nx">charCode</span><span class="p">);</span>
            </pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>It might be time to change scenes.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">var</span> <span class="nx">sceneChanged</span><span class="o">:</span><span class="nb">Boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">keyAsString</span> <span class="o">==</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nx">currentSceneIndex</span><span class="o">--;</span>
                <span class="nx">sceneChanged</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">keyAsString</span> <span class="o">==</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nx">currentSceneIndex</span><span class="o">++;</span>
                <span class="nx">sceneChanged</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="p">}</span>
            </pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>If so, run updateScene();</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">sceneChanged</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nx">updateScene</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <h2>Legal Notices</h2>

<p><i>The PushButton Engine is covered under the MIT license in its entirety,
not including 3rd party components. Please read LICENSE for more 
information on the MIT license.</i></p>

<p><i>Copyright 2009-2011 PushButton Labs, LLC. All rights reserved.</i></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="c1">// @docco-chapter 1. First Steps</span>
<span class="c1">// @docco-order 1</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 