<!DOCTYPE html>  <html> <head>   <title>SimplestRendererScene.as</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">        <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                   <b> 1. First Steps </b>                          <a class="source" href="PBEDemos.html">       PBEDemos.as      </a>                          <a class="source" href="SimplestRendererScene.html">       SimplestRendererScene.as      </a>                          <a class="source" href="SimplestSpriteRenderer.html">       SimplestSpriteRenderer.as      </a>                          <a class="source" href="BindingDemoScene.html">       BindingDemoScene.as      </a>                          <a class="source" href="SimplestSpatialComponent.html">       SimplestSpatialComponent.as      </a>                          <a class="source" href="MouseFollowerScene.html">       MouseFollowerScene.as      </a>                          <a class="source" href="SimplestMouseFollowComponent.html">       SimplestMouseFollowComponent.as      </a>                          <a class="source" href="CirclePickupScene.html">       CirclePickupScene.as      </a>                          <a class="source" href="GemManager.html">       GemManager.as      </a>                          <b> 2. Building Gameplay </b>                          <a class="source" href="CirclePickupWithTimeManagerScene.html">       CirclePickupWithTimeManagerScene.as      </a>                          <a class="source" href="OneButtonDemoScene.html">       OneButtonDemoScene.as      </a>                          <a class="source" href="OneButtonWithTweenDemoScene.html">       OneButtonWithTweenDemoScene.as      </a>                          <a class="source" href="TwoButtonDemoScene.html">       TwoButtonDemoScene.as      </a>                          <a class="source" href="CarDemoScene.html">       CarDemoScene.as      </a>                          <a class="source" href="FSMDemoScene.html">       FSMDemoScene.as      </a>                               </div>         </div>       </div>      <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs" colspan="2">             <h1>               SimplestRendererScene.as             </h1>           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h2>Simplest Renderer Demo</h2>

<p>This is very nearly the simplest possible demo - a single game object 
that draws a circle on the stage via a very simple rendering component.
There is no animation or fancy game logic. See the next demo for that.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">package</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">demo_01_simplestRenderer</span>
<span class="p">{</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">core</span><span class="p">.</span><span class="nx">PBGroup</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">simplest</span><span class="p">.</span><span class="nx">SimplestSpriteRenderer</span><span class="o">;</span>
    
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">geom</span><span class="p">.</span><span class="nb">Point</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">demos</span><span class="p">.</span><span class="nx">SimplestDemoGameObject</span><span class="o">;</span>
    </pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Declare our demo class.</p>

<p>All demos subclass from PBGroup. Why do we do this? The short answer is
that it makes it easy to load/unload them and everything they create.
PBGroups own all the objects that are added to them, and then they are
destroy()ed, they destroy() everything they contain.</p>

<p>This demo uses two other classes: <a href="SimplestDemoGameObject.html">
SimplestDemoGameObject</a> and <a href="SimplestSpriteRenderer.html">
SimplestSpriteRenderer</a>. Give this demo a skim then check them out.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">public</span> <span class="kd">class</span> <span class="nx">SimplestRendererScene</span> <span class="kd">extends</span> <span class="nx">PBGroup</span>
    <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h2>Initialize()</h2>

<p>initialize() is called when the demo scene is instantiated.</p>

<p>Since PBGameObjects are destroyed automatically when they are in a
PBGroup, and components will automatically initialize themselves,
all we have to do is set things in motion and let them take care of
themselves.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">override</span> <span class="kd">function</span> <span class="nx">initialize</span><span class="p">()</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>First, always remember to call the PBGroup superclass' implementation. It needs
to do its own setup logic.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="kd">super</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
            </pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Create a demo object. All game objects derive from PBGameObject
and exist to hold subclasses of PBComponent. In PBE, nearly all
game logic and behavior lives inside of components.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">var</span> <span class="nx">go</span><span class="o">:</span><span class="nx">SimplestDemoGameObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SimplestDemoGameObject</span><span class="p">();</span>
            </pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Every game object is owned by a group. When the group is destroyed,
so are the objects in it. In this way you can clean up when (for
instance) a level ends. You will notice we can subclass the group
class (PBGroup) to add our own interesting behavior, like spawning
certain objects at "level start." This is what is happening in
this class, SimplestRendererScene.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">go</span><span class="p">.</span><span class="nx">owningGroup</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>
            </pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>OK - create a renderer and put it on the game object. We'll set
the position, too.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">go</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SimplestSpriteRenderer</span><span class="p">();</span>
            <span class="nx">go</span><span class="p">.</span><span class="nx">render</span><span class="p">.</span><span class="nx">position</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Point</span><span class="p">(</span><span class="mi">100</span><span class="o">,</span> <span class="mi">150</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Finally, initialize the game object. For game objects with public
members that hold components, those components are automatically
initialized and registered with the game object under the name
of the field. So for instance, our SimplestSpriteRenderer is
registered under the name "render" with our new game object.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">go</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
            </pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>When the scene is switched out (by the main class, PBEDemos), this
group is destroy()ed and the objects in it (ie, the game object
we just created) are destroy()ed too. That way we can easily 
and reliably clean up after ourselves.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// @docco-chapter 1. First Steps</span>
<span class="c1">// @docco-order 2</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 