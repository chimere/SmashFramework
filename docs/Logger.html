<!DOCTYPE html>  <html> <head>   <title>Logger.as</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">        <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                   <b> 1. First Steps </b>                          <a class="source" href="PBEDemos.html">       PBEDemos.as      </a>                          <a class="source" href="SimplestRendererScene.html">       SimplestRendererScene.as      </a>                          <a class="source" href="SimplestSpriteRenderer.html">       SimplestSpriteRenderer.as      </a>                          <a class="source" href="BindingDemoScene.html">       BindingDemoScene.as      </a>                          <a class="source" href="SimplestSpatialComponent.html">       SimplestSpatialComponent.as      </a>                          <a class="source" href="MouseFollowerScene.html">       MouseFollowerScene.as      </a>                          <a class="source" href="SimplestMouseFollowComponent.html">       SimplestMouseFollowComponent.as      </a>                          <a class="source" href="CirclePickupScene.html">       CirclePickupScene.as      </a>                          <a class="source" href="GemManager.html">       GemManager.as      </a>                          <b> 2. Building Gameplay </b>                          <a class="source" href="CirclePickupWithTimeManagerScene.html">       CirclePickupWithTimeManagerScene.as      </a>                          <a class="source" href="OneButtonDemoScene.html">       OneButtonDemoScene.as      </a>                          <a class="source" href="OneButtonWithTweenDemoScene.html">       OneButtonWithTweenDemoScene.as      </a>                          <a class="source" href="TwoButtonDemoScene.html">       TwoButtonDemoScene.as      </a>                          <a class="source" href="CarDemoScene.html">       CarDemoScene.as      </a>                          <a class="source" href="FSMDemoScene.html">       FSMDemoScene.as      </a>                               </div>         </div>       </div>      <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs" colspan="2">             <h1>               Logger.as             </h1>           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <hr />

<p>PushButton Engine
Copyright (C) 2009 PushButton Labs, LLC
For more information see http://www.pushbuttonengine.com</p>

<p>This file is licensed under the terms of the MIT license, which is included
in the License.html file at the root directory of this SDK.
<strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em>*</strong>/</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">package</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">debug</span>
<span class="p">{</span>
    
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">PBE</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">pb_internal</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">TypeUtility</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">version</span><span class="p">.</span><span class="nx">VersionDetails</span><span class="o">;</span>
    <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">version</span><span class="p">.</span><span class="nx">VersionUtil</span><span class="o">;</span>
    
    <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">Stage</span><span class="o">;</span>
    </pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>The Logger class provides mechanisms to print and listen for errors, warnings,
and general messages. The built in 'trace' command will output messages to the
console, but this allows you to differentiate between different types of
messages, give more detailed information about the origin of the message, and
listen for log events so they can be displayed in a UI component.</p>

<p>You can use Logger for localized logging by instantiating an instance and
referencing it. For instance:</p>

<p><code>protected static var logger:Logger = new Logger(MyClass);
logger.print("Output for MyClass.");</code></p>

<p>@see LogEntry</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">public</span> <span class="kd">class</span> <span class="nx">Logger</span>
    <span class="p">{</span>
        <span class="kd">static</span> <span class="kd">protected</span> <span class="k">var</span> <span class="nx">listeners</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="kd">static</span> <span class="kd">protected</span> <span class="k">var</span> <span class="nx">started</span><span class="o">:</span><span class="nb">Boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        <span class="kd">static</span> <span class="kd">protected</span> <span class="k">var</span> <span class="nx">pendingEntries</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="kd">static</span> <span class="kd">protected</span> <span class="k">var</span> <span class="nx">disabled</span><span class="o">:</span><span class="nb">Boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        </pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Register a ILogAppender to be called back whenever log messages occur.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">registerListener</span><span class="p">(</span><span class="nx">listener</span><span class="o">:</span><span class="nx">ILogAppender</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="nx">listeners</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">listener</span><span class="p">);</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Initialize the logging system.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">startup</span><span class="p">(</span><span class="nx">stage</span><span class="o">:</span><span class="nb">Stage</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Don't start more than once!</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">started</span><span class="p">)</span>
                <span class="k">return</span><span class="o">;</span>
            </pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Put default listeners into the list.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">registerListener</span><span class="p">(</span><span class="k">new</span> <span class="nx">TraceAppender</span><span class="p">());</span>
            </pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>if(!PBE.IS<em>SHIPPING</em>BUILD)
   registerListener(new UIAppender());</p>             </td>             <td class="code">               <div class="highlight"><pre>            </pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Process pending messages.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">started</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            </pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Print out a helpful version string.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">var</span> <span class="nx">vd</span><span class="o">:</span><span class="nx">VersionDetails</span> <span class="o">=</span> <span class="nx">VersionUtil</span><span class="p">.</span><span class="nx">checkVersion</span><span class="p">(</span><span class="nx">stage</span><span class="p">);</span>
            <span class="nx">Logger</span><span class="p">.</span><span class="nx">print</span><span class="p">(</span><span class="nx">Logger</span><span class="o">,</span> <span class="nx">vd</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
            <span class="nx">Logger</span><span class="p">.</span><span class="nx">print</span><span class="p">(</span><span class="nx">Logger</span><span class="o">,</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toString</span><span class="p">());</span>
            </pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Then print out any logging.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="nx">pendingEntries</span><span class="p">)</span> 
            <span class="p">{</span>
                <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">i</span><span class="o">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">pendingEntries</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
                    <span class="nx">processEntry</span><span class="p">(</span><span class="nx">pendingEntries</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
                </pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Free up the pending entries.</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="nx">pendingEntries</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="nx">pendingEntries</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>				
            <span class="p">}</span>			
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Call to destructively disable logging. This is useful when going
to production, when you want to remove all logging overhead.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">disable</span><span class="p">()</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="nx">pendingEntries</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="nx">started</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
            <span class="nx">listeners</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="nx">disabled</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="p">}</span>
        
        <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">processEntry</span><span class="p">(</span><span class="nx">entry</span><span class="o">:</span><span class="nx">LogEntry</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Early out if we are disabled.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">disabled</span><span class="p">)</span>
                <span class="k">return</span><span class="o">;</span>
            </pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>If we aren't started yet, just store it up for later processing.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">started</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nx">pendingEntries</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span>
                <span class="k">return</span><span class="o">;</span>
            <span class="p">}</span>
            </pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Let all the listeners process it.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">i</span><span class="o">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">listeners</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
                <span class="p">(</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="nx">as</span> <span class="nx">ILogAppender</span><span class="p">).</span><span class="nx">addLogMessage</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">type</span><span class="o">,</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getObjectClassName</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">reporter</span><span class="p">)</span><span class="o">,</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Prints a general message to the log. Log entries created with this method
will have the MESSAGE type.</p>

<p>@param reporter The object that reported the message. This can be null.
@param message The message to print to the log.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">print</span><span class="p">(</span><span class="nx">reporter</span><span class="o">:*,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Early out if we are disabled.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">disabled</span><span class="p">)</span>
                <span class="k">return</span><span class="o">;</span>
            
            <span class="k">var</span> <span class="nx">entry</span><span class="o">:</span><span class="nx">LogEntry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LogEntry</span><span class="p">();</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">reporter</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getClass</span><span class="p">(</span><span class="nx">reporter</span><span class="p">);</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="nx">message</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">LogEntry</span><span class="p">.</span><span class="nx">MESSAGE</span><span class="o">;</span>
            <span class="nx">processEntry</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Prints an info message to the log. Log entries created with this method
will have the INFO type.</p>

<p>@param reporter The object that reported the warning. This can be null.
@param method The name of the method that the warning was reported from.
@param message The warning to print to the log.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">info</span><span class="p">(</span><span class="nx">reporter</span><span class="o">:*,</span> <span class="nx">method</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Early out if we are disabled.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">disabled</span><span class="p">)</span>
                <span class="k">return</span><span class="o">;</span>
            
            <span class="k">var</span> <span class="nx">entry</span><span class="o">:</span><span class="nx">LogEntry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LogEntry</span><span class="p">();</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">reporter</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getClass</span><span class="p">(</span><span class="nx">reporter</span><span class="p">);</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="nx">method</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="nx">method</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="nx">message</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">LogEntry</span><span class="p">.</span><span class="nx">INFO</span><span class="o">;</span>
            <span class="nx">processEntry</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>Prints a debug message to the log. Log entries created with this method
will have the DEBUG type.</p>

<p>@param reporter The object that reported the debug message. This can be null.
@param method The name of the method that the debug message was reported from.
@param message The debug message to print to the log.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">debug</span><span class="p">(</span><span class="nx">reporter</span><span class="o">:*,</span> <span class="nx">method</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>Early out if we are disabled.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">disabled</span><span class="p">)</span>
                <span class="k">return</span><span class="o">;</span>
            
            <span class="k">var</span> <span class="nx">entry</span><span class="o">:</span><span class="nx">LogEntry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LogEntry</span><span class="p">();</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">reporter</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getClass</span><span class="p">(</span><span class="nx">reporter</span><span class="p">);</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="nx">method</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="nx">method</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="nx">message</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">LogEntry</span><span class="p">.</span><span class="nx">DEBUG</span><span class="o">;</span>
            <span class="nx">processEntry</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Prints a warning message to the log. Log entries created with this method
will have the WARNING type.</p>

<p>@param reporter The object that reported the warning. This can be null.
@param method The name of the method that the warning was reported from.
@param message The warning to print to the log.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">warn</span><span class="p">(</span><span class="nx">reporter</span><span class="o">:*,</span> <span class="nx">method</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>Early out if we are disabled.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">disabled</span><span class="p">)</span>
                <span class="k">return</span><span class="o">;</span>
            
            <span class="k">var</span> <span class="nx">entry</span><span class="o">:</span><span class="nx">LogEntry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LogEntry</span><span class="p">();</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">reporter</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getClass</span><span class="p">(</span><span class="nx">reporter</span><span class="p">);</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="nx">method</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="nx">method</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="nx">message</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">LogEntry</span><span class="p">.</span><span class="nx">WARNING</span><span class="o">;</span>
            <span class="nx">processEntry</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>Prints an error message to the log. Log entries created with this method
will have the ERROR type.</p>

<p>@param reporter The object that reported the error. This can be null.
@param method The name of the method that the error was reported from.
@param message The error to print to the log.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">error</span><span class="p">(</span><span class="nx">reporter</span><span class="o">:*,</span> <span class="nx">method</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>Early out if we are disabled.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">disabled</span><span class="p">)</span>
                <span class="k">return</span><span class="o">;</span>
            
            <span class="k">var</span> <span class="nx">entry</span><span class="o">:</span><span class="nx">LogEntry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LogEntry</span><span class="p">();</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">reporter</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getClass</span><span class="p">(</span><span class="nx">reporter</span><span class="p">);</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="nx">method</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="nx">method</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="nx">message</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">LogEntry</span><span class="p">.</span><span class="nx">ERROR</span><span class="o">;</span>
            <span class="nx">processEntry</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>Prints a message to the log. Log enthries created with this method will have
the type specified in the 'type' parameter.</p>

<p>@param reporter The object that reported the message. This can be null.
@param method The name of the method that the error was reported from.
@param message The message to print to the log.
@param type The custom type to give the message.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">printCustom</span><span class="p">(</span><span class="nx">reporter</span><span class="o">:*,</span> <span class="nx">method</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">type</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>Early out if we are disabled.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">disabled</span><span class="p">)</span>
                <span class="k">return</span><span class="o">;</span>
            
            <span class="k">var</span> <span class="nx">entry</span><span class="o">:</span><span class="nx">LogEntry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LogEntry</span><span class="p">();</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">reporter</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getClass</span><span class="p">(</span><span class="nx">reporter</span><span class="p">);</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="nx">method</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="nx">method</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="nx">message</span><span class="o">;</span>
            <span class="nx">entry</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span><span class="o">;</span>
            <span class="nx">processEntry</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>Utility function to get the current callstack. Only works in debug build.
Useful for noting who called what. Empty when in release build.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getCallStack</span><span class="p">()</span><span class="o">:</span><span class="nb">String</span>
        <span class="p">{</span>
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="k">var</span> <span class="nx">e</span><span class="o">:</span><span class="nb">Error</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">();</span>
                <span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">getStackTrace</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nb">Error</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="s2">&quot;[no callstack available]&quot;</span><span class="o">;</span>
        <span class="p">}</span>
        
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">printHeader</span><span class="p">(</span><span class="nx">report</span><span class="o">:*,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="nx">print</span><span class="p">(</span><span class="nx">report</span><span class="o">,</span> <span class="nx">message</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">printFooter</span><span class="p">(</span><span class="nx">report</span><span class="o">:*,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="nx">print</span><span class="p">(</span><span class="nx">report</span><span class="o">,</span> <span class="nx">message</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="kd">public</span> <span class="k">var</span> <span class="nx">enabled</span><span class="o">:</span><span class="nb">Boolean</span><span class="o">;</span>
        <span class="kd">protected</span> <span class="k">var</span> <span class="nx">owner</span><span class="o">:</span><span class="nb">Class</span><span class="o">;</span>
        
        <span class="kd">public</span> <span class="kd">function</span> <span class="nx">Logger</span><span class="p">(</span><span class="nx">_owner</span><span class="o">:</span><span class="nb">Class</span><span class="o">,</span> <span class="nx">defaultEnabled</span><span class="o">:</span><span class="nb">Boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">owner</span> <span class="o">=</span> <span class="nx">_owner</span><span class="o">;</span>
            <span class="nx">enabled</span> <span class="o">=</span> <span class="nx">defaultEnabled</span><span class="o">;</span>
        <span class="p">}</span>
        
        <span class="kd">public</span> <span class="kd">function</span> <span class="nx">info</span><span class="p">(</span><span class="nx">method</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">enabled</span><span class="p">)</span>
                <span class="nx">Logger</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">owner</span><span class="o">,</span> <span class="nx">method</span><span class="o">,</span> <span class="nx">message</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="kd">public</span> <span class="kd">function</span> <span class="nx">warn</span><span class="p">(</span><span class="nx">method</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">enabled</span><span class="p">)</span>
                <span class="nx">Logger</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">owner</span><span class="o">,</span> <span class="nx">method</span><span class="o">,</span> <span class="nx">message</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="kd">public</span> <span class="kd">function</span> <span class="nx">error</span><span class="p">(</span><span class="nx">method</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">enabled</span><span class="p">)</span>
                <span class="nx">Logger</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">owner</span><span class="o">,</span> <span class="nx">method</span><span class="o">,</span> <span class="nx">message</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="kd">public</span> <span class="kd">function</span> <span class="nx">print</span><span class="p">(</span><span class="nx">message</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">enabled</span><span class="p">)</span>
                <span class="nx">Logger</span><span class="p">.</span><span class="nx">print</span><span class="p">(</span><span class="nx">owner</span><span class="o">,</span> <span class="nx">message</span><span class="p">);</span>
        <span class="p">}</span>
        
    <span class="p">}</span>
<span class="p">}</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 