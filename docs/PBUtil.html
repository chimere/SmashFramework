<!DOCTYPE html>  <html> <head>   <title>PBUtil.as</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">        <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                   <b> 1. First Steps </b>                          <a class="source" href="PBEDemos.html">       PBEDemos.as      </a>                          <a class="source" href="SimplestRendererScene.html">       SimplestRendererScene.as      </a>                          <a class="source" href="SimplestSpriteRenderer.html">       SimplestSpriteRenderer.as      </a>                          <a class="source" href="BindingDemoScene.html">       BindingDemoScene.as      </a>                          <a class="source" href="SimplestSpatialComponent.html">       SimplestSpatialComponent.as      </a>                          <a class="source" href="MouseFollowerScene.html">       MouseFollowerScene.as      </a>                          <a class="source" href="SimplestMouseFollowComponent.html">       SimplestMouseFollowComponent.as      </a>                          <a class="source" href="CirclePickupScene.html">       CirclePickupScene.as      </a>                          <a class="source" href="GemManager.html">       GemManager.as      </a>                          <b> 2. Building Gameplay </b>                          <a class="source" href="CirclePickupWithTimeManagerScene.html">       CirclePickupWithTimeManagerScene.as      </a>                          <a class="source" href="OneButtonDemoScene.html">       OneButtonDemoScene.as      </a>                          <a class="source" href="OneButtonWithTweenDemoScene.html">       OneButtonWithTweenDemoScene.as      </a>                          <a class="source" href="TwoButtonDemoScene.html">       TwoButtonDemoScene.as      </a>                          <a class="source" href="CarDemoScene.html">       CarDemoScene.as      </a>                          <a class="source" href="FSMDemoScene.html">       FSMDemoScene.as      </a>                               </div>         </div>       </div>      <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs" colspan="2">             <h1>               PBUtil.as             </h1>           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <hr />

<p>PushButton Engine
Copyright (C) 2009 PushButton Labs, LLC
For more information see http://www.pushbuttonengine.com</p>

<p>This file is licensed under the terms of the MIT license, which is included
in the License.html file at the root directory of this SDK.
<strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em>*</strong>/</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">package</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span>
<span class="p">{</span>
	<span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">debug</span><span class="p">.</span><span class="nx">Logger</span><span class="o">;</span>
	<span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">pblabs</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">TypeUtility</span><span class="o">;</span>
	
	<span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">DisplayObject</span><span class="o">;</span>
	<span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">DisplayObjectContainer</span><span class="o">;</span>
	<span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">geom</span><span class="p">.</span><span class="nb">Matrix</span><span class="o">;</span>
	<span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nb">Dictionary</span><span class="o">;</span>
	<span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">describeType</span><span class="o">;</span>
	<span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">getDefinitionByName</span><span class="o">;</span>
	<span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">getQualifiedClassName</span><span class="o">;</span>
	</pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Contains an assortment of useful utility methods.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="kd">public</span> <span class="kd">class</span> <span class="nx">PBUtil</span>
	<span class="p">{</span>
		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">const</span> <span class="nx">FLIP_HORIZONTAL</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="s2">&quot;flipHorizontal&quot;</span><span class="o">;</span>
		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">const</span> <span class="nx">FLIP_VERTICAL</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="s2">&quot;flipVertical&quot;</span><span class="o">;</span>
		</pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Two times PI. </p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">const</span> <span class="nx">TWO_PI</span><span class="o">:</span><span class="nb">Number</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">;</span>
		</pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Converts an angle in radians to an angle in degrees.</p>

<p>@param radians The angle to convert.</p>

<p>@return The converted value.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getDegreesFromRadians</span><span class="p">(</span><span class="nx">radians</span><span class="o">:</span><span class="nb">Number</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
		<span class="p">{</span>
			<span class="k">return</span> <span class="nx">radians</span> <span class="o">*</span> <span class="mi">180</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Converts an angle in degrees to an angle in radians.</p>

<p>@param degrees The angle to convert.</p>

<p>@return The converted value.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getRadiansFromDegrees</span><span class="p">(</span><span class="nx">degrees</span><span class="o">:</span><span class="nb">Number</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
		<span class="p">{</span>
			<span class="k">return</span> <span class="nx">degrees</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Keep a number between a min and a max.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">clamp</span><span class="p">(</span><span class="nx">v</span><span class="o">:</span><span class="nb">Number</span><span class="o">,</span> <span class="nx">min</span><span class="o">:</span><span class="nb">Number</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="nx">max</span><span class="o">:</span><span class="nb">Number</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
		<span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">v</span> <span class="o">&lt;</span> <span class="nx">min</span><span class="p">)</span> <span class="k">return</span> <span class="nx">min</span><span class="o">;</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">v</span> <span class="o">&gt;</span> <span class="nx">max</span><span class="p">)</span> <span class="k">return</span> <span class="nx">max</span><span class="o">;</span>
			<span class="k">return</span> <span class="nx">v</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Clones an array.
@param array Array to clone.
@return a cloned array.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">cloneArray</span><span class="p">(</span><span class="nx">array</span><span class="o">:</span><span class="nb">Array</span><span class="p">)</span><span class="o">:</span><span class="nb">Array</span>
		<span class="p">{</span>
			<span class="k">var</span> <span class="nx">newArray</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> <span class="p">[];</span>
			
			<span class="k">for</span> <span class="k">each</span> <span class="p">(</span><span class="k">var</span> <span class="nx">item</span><span class="o">:*</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span>
			<span class="nx">newArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
			
			<span class="k">return</span> <span class="nx">newArray</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Take a radian measure and make sure it is between -pi..pi.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">unwrapRadian</span><span class="p">(</span><span class="nx">r</span><span class="o">:</span><span class="nb">Number</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
		<span class="p">{</span>
			<span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span> <span class="o">%</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">r</span> <span class="o">&gt;</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">)</span>
				<span class="nx">r</span> <span class="o">-=</span> <span class="nx">TWO_PI</span><span class="o">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">r</span> <span class="o">&lt;</span> <span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">)</span>
				<span class="nx">r</span> <span class="o">+=</span> <span class="nx">TWO_PI</span><span class="o">;</span>
			<span class="k">return</span> <span class="nx">r</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Take a degree measure and make sure it is between 0..360.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">unwrapDegrees</span><span class="p">(</span><span class="nx">r</span><span class="o">:</span><span class="nb">Number</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
		<span class="p">{</span>
			<span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span> <span class="o">%</span> <span class="mi">360</span><span class="o">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">r</span> <span class="o">&gt;</span> <span class="mi">180</span><span class="p">)</span>
				<span class="nx">r</span> <span class="o">-=</span> <span class="mi">360</span><span class="o">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">r</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">180</span><span class="p">)</span>
				<span class="nx">r</span> <span class="o">+=</span> <span class="mi">360</span><span class="o">;</span>
			<span class="k">return</span> <span class="nx">r</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Return the shortest distance to get from from to to, in radians.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getRadianShortDelta</span><span class="p">(</span><span class="nx">from</span><span class="o">:</span><span class="nb">Number</span><span class="o">,</span> <span class="nx">to</span><span class="o">:</span><span class="nb">Number</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
		<span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Unwrap both from and to.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">from</span> <span class="o">=</span> <span class="nx">unwrapRadian</span><span class="p">(</span><span class="nx">from</span><span class="p">);</span>
			<span class="nx">to</span> <span class="o">=</span> <span class="nx">unwrapRadian</span><span class="p">(</span><span class="nx">to</span><span class="p">);</span>
			</pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Calc delta.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">var</span> <span class="nx">delta</span><span class="o">:</span><span class="nb">Number</span> <span class="o">=</span> <span class="nx">to</span> <span class="o">-</span> <span class="nx">from</span><span class="o">;</span>
			</pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Make sure delta is shortest path around circle.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span><span class="p">(</span><span class="nx">delta</span> <span class="o">&gt;</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">)</span>
				<span class="nx">delta</span> <span class="o">-=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="o">;</span>            
			<span class="k">if</span><span class="p">(</span><span class="nx">delta</span> <span class="o">&lt;</span> <span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">)</span>
				<span class="nx">delta</span> <span class="o">+=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="o">;</span>            
			</pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Done</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="nx">delta</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Return the shortest distance to get from from to to, in degrees.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getDegreesShortDelta</span><span class="p">(</span><span class="nx">from</span><span class="o">:</span><span class="nb">Number</span><span class="o">,</span> <span class="nx">to</span><span class="o">:</span><span class="nb">Number</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
		<span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Unwrap both from and to.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">from</span> <span class="o">=</span> <span class="nx">unwrapDegrees</span><span class="p">(</span><span class="nx">from</span><span class="p">);</span>
			<span class="nx">to</span> <span class="o">=</span> <span class="nx">unwrapDegrees</span><span class="p">(</span><span class="nx">to</span><span class="p">);</span>
			</pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Calc delta.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">var</span> <span class="nx">delta</span><span class="o">:</span><span class="nb">Number</span> <span class="o">=</span> <span class="nx">to</span> <span class="o">-</span> <span class="nx">from</span><span class="o">;</span>
			</pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Make sure delta is shortest path around circle.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span><span class="p">(</span><span class="nx">delta</span> <span class="o">&gt;</span> <span class="mi">180</span><span class="p">)</span>
				<span class="nx">delta</span> <span class="o">-=</span> <span class="mi">360</span><span class="o">;</span>            
			<span class="k">if</span><span class="p">(</span><span class="nx">delta</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">180</span><span class="p">)</span>
				<span class="nx">delta</span> <span class="o">+=</span> <span class="mi">360</span><span class="o">;</span>            
			</pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Done</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="nx">delta</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>Get number of bits required to encode values from 0..max.</p>

<p>@param max The maximum value to be able to be encoded.
@return Bitcount required to encode max value.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getBitCountForRange</span><span class="p">(</span><span class="nx">max</span><span class="o">:</span><span class="nb">int</span><span class="p">)</span><span class="o">:</span><span class="nb">int</span>
		<span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>TODO: Make this use bits and be fast.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">max</span><span class="p">)</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">));</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Returns the power of a number which is a power of 2.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getPowerOfTwo</span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="nb">uint</span><span class="p">)</span><span class="o">:</span><span class="nb">uint</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>TODO: Find a faster way.</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">LOG2E</span><span class="o">;</span>
        <span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>Pick an integer in a range, with a bias factor (from -1 to 1) to skew towards
low or high end of range.</p>

<p>@param min Minimum value to choose from, inclusive.
@param max Maximum value to choose from, inclusive.
@param bias -1 skews totally towards min, 1 totally towards max.
@return A random integer between min/max with appropriate bias.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">pickWithBias</span><span class="p">(</span><span class="nx">min</span><span class="o">:</span><span class="nb">int</span><span class="o">,</span> <span class="nx">max</span><span class="o">:</span><span class="nb">int</span><span class="o">,</span> <span class="nx">bias</span><span class="o">:</span><span class="nb">Number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="nb">int</span>
		<span class="p">{</span>
			<span class="k">return</span> <span class="nx">clamp</span><span class="p">((((</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">+</span> <span class="nx">bias</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="nx">min</span><span class="p">)</span><span class="o">,</span> <span class="nx">min</span><span class="o">,</span> <span class="nx">max</span><span class="p">);</span>
		<span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>Assigns parameters from source to destination by name.</p>

<p>This allows duck typing - you can accept a generic object
(giving you nice {foo:bar} syntax) and cast to a typed object for
easier internal processing and validation.</p>

<p>@param source Object to read fields from.
@param dest Object to assign fields to.
@param abortOnMismatch If true, throw an error if a field in source is absent in destination.
@param deepCopy If true, check for arrays of objects in the source object and copy them as well</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">duckAssign</span><span class="p">(</span><span class="nx">source</span><span class="o">:</span><span class="nb">Object</span><span class="o">,</span> <span class="nx">destination</span><span class="o">:</span><span class="nb">Object</span><span class="o">,</span> <span class="nx">abortOnMismatch</span><span class="o">:</span><span class="nb">Boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="o">,</span> <span class="nx">deepCopy</span><span class="o">:</span><span class="nb">Boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
		<span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>Get the list of public fields.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">var</span> <span class="nx">sourceFields</span><span class="o">:</span><span class="nb">XML</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getTypeDescription</span><span class="p">(</span><span class="nx">source</span><span class="p">);</span>
			
			<span class="k">for</span> <span class="k">each</span><span class="p">(</span><span class="k">var</span> <span class="nx">fieldInfo</span><span class="o">:</span><span class="nb">XML</span> <span class="k">in</span> <span class="nx">sourceFields</span><span class="p">.</span><span class="o">*</span><span class="p">)</span>
			<span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>Skip anything that is not a field.</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span><span class="p">(</span><span class="nx">fieldInfo</span><span class="p">.</span><span class="nx">name</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;variable&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">fieldInfo</span><span class="p">.</span><span class="nx">name</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;accessor&quot;</span><span class="p">)</span>
					<span class="k">continue</span><span class="o">;</span>
				</pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>Skip write-only stuff.</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span><span class="p">(</span><span class="nx">fieldInfo</span><span class="p">.</span><span class="err">@</span><span class="nx">access</span> <span class="o">==</span> <span class="s2">&quot;writeonly&quot;</span><span class="p">)</span>
					<span class="k">continue</span><span class="o">;</span>
				
				<span class="k">var</span> <span class="nx">fieldName</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="nx">fieldInfo</span><span class="p">.</span><span class="err">@</span><span class="nx">name</span><span class="o">;</span>
				
				<span class="nx">attemptAssign</span><span class="p">(</span><span class="nx">fieldName</span><span class="o">,</span> <span class="nx">source</span><span class="o">,</span> <span class="nx">destination</span><span class="o">,</span> <span class="nx">abortOnMismatch</span><span class="o">,</span> <span class="nx">deepCopy</span><span class="p">);</span>
			<span class="p">}</span>
			</pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>Deal with dynamic fields, too.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">field</span><span class="o">:</span><span class="nb">String</span> <span class="k">in</span> <span class="nx">source</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="nx">attemptAssign</span><span class="p">(</span><span class="nx">field</span><span class="o">,</span> <span class="nx">source</span><span class="o">,</span> <span class="nx">destination</span><span class="o">,</span> <span class="nx">abortOnMismatch</span><span class="o">,</span> <span class="nx">deepCopy</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>Assign a single field from the source object to the destination. Also handles assigning
nested typed vectors of objects. In the destination object class, add a TypeHint to the 
field that contains the Vector like so:</p>

<p>[TypeHint (type="liddles.models.BodyPartDescription")]
public var parts:Vector.<BodyPartDescription>;</p>

<p>@param source Object to read fields from.
@param dest Object to assign fields to.
@param abortOnMismatch If true, throw an error if a field in source is absent in destination.
@param deepCopy If true, check for arrays of objects in the source object and copy them as well</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">private</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">attemptAssign</span><span class="p">(</span><span class="nx">fieldName</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">source</span><span class="o">:</span><span class="nb">Object</span><span class="o">,</span> <span class="nx">destination</span><span class="o">:</span><span class="nb">Object</span><span class="o">,</span> <span class="nx">abortOnMismatch</span><span class="o">:</span><span class="nb">Boolean</span><span class="o">,</span> <span class="nx">deepCopy</span><span class="o">:</span><span class="nb">Boolean</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
		<span class="p">{</span>	</pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>Deep copy and source is an array?</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span><span class="nx">deepCopy</span> <span class="o">&amp;&amp;</span> <span class="nx">source</span><span class="p">[</span><span class="nx">fieldName</span><span class="p">]</span> <span class="nx">is</span> <span class="nb">Array</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">var</span> <span class="nx">tmpArray</span><span class="o">:</span><span class="nb">Object</span><span class="o">=</span><span class="kc">null</span><span class="o">;</span>
			</pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>See if we have a type hint for objects in the array
by looking at the destination field</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">var</span> <span class="nx">typeName</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getTypeHint</span><span class="p">(</span><span class="nx">destination</span><span class="o">,</span><span class="nx">fieldName</span><span class="p">);</span>
				
				<span class="k">if</span> <span class="p">(</span><span class="nx">typeName</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="k">var</span> <span class="nx">vectorType</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="s2">&quot;Vector.&lt;&quot;</span><span class="o">+</span><span class="nx">typeName</span><span class="o">+</span><span class="s2">&quot;&gt;&quot;</span><span class="o">;</span>
					<span class="nx">tmpArray</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">instantiate</span><span class="p">(</span><span class="nx">vectorType</span><span class="p">);</span>
									
					<span class="k">for</span> <span class="k">each</span> <span class="p">(</span><span class="k">var</span> <span class="nx">val</span><span class="o">:</span><span class="nb">Object</span> <span class="k">in</span> <span class="nx">source</span><span class="p">[</span><span class="nx">fieldName</span><span class="p">])</span>
					<span class="p">{</span>					
						<span class="k">var</span> <span class="nx">obj</span><span class="o">:</span><span class="nb">Object</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
						<span class="k">if</span> <span class="p">(</span><span class="nx">typeName</span><span class="p">)</span>
						<span class="p">{</span>
							<span class="nx">obj</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">instantiate</span><span class="p">(</span><span class="nx">typeName</span><span class="p">);</span>
						<span class="p">}</span>				
						<span class="k">else</span>
						<span class="p">{</span>
							<span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
						<span class="p">}</span>
						
						<span class="nx">duckAssign</span><span class="p">(</span><span class="nx">val</span><span class="o">,</span> <span class="nx">obj</span><span class="o">,</span> <span class="nx">abortOnMismatch</span><span class="o">,</span> <span class="nx">deepCopy</span><span class="p">);</span>
						
						<span class="nx">tmpArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
				<span class="k">else</span>
				<span class="p">{</span>
					<span class="nx">tmpArray</span> <span class="o">=</span> <span class="nx">source</span><span class="p">[</span><span class="nx">fieldName</span><span class="p">];</span>
				<span class="p">}</span>
				
	
				<span class="nx">destination</span><span class="p">[</span><span class="nx">fieldName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">tmpArray</span><span class="o">;</span>					
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="k">try</span>
				<span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>Try to assign.</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">destination</span><span class="p">[</span><span class="nx">fieldName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">source</span><span class="p">[</span><span class="nx">fieldName</span><span class="p">];</span>
				<span class="p">}</span>
				<span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nb">Error</span><span class="p">)</span>
				<span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <p>Abort or continue, depending on user settings.</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">abortOnMismatch</span><span class="p">)</span>
						<span class="k">return</span><span class="o">;</span>
					<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Field &#39;&quot;</span> <span class="o">+</span> <span class="nx">fieldName</span> <span class="o">+</span> <span class="s2">&quot;&#39; in source was not present in destination.&quot;</span><span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>			
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>Calculate length of a vector. </p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">xyLength</span><span class="p">(</span><span class="nx">x</span><span class="o">:</span><span class="nb">Number</span><span class="o">,</span> <span class="nx">y</span><span class="o">:</span><span class="nb">Number</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
		<span class="p">{</span>
			<span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">((</span><span class="nx">x</span><span class="o">*</span><span class="nx">x</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">y</span><span class="o">*</span><span class="nx">y</span><span class="p">));</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <p>Replaces instances of less then, greater then, ampersand, single and double quotes.
@param str String to escape.
@return A string that can be used in an htmlText property.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">escapeHTMLText</span><span class="p">(</span><span class="nx">str</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span>
		<span class="p">{</span>
			<span class="k">var</span> <span class="nx">chars</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> 
				<span class="p">[</span>
					<span class="p">{</span><span class="nx">char</span><span class="o">:</span><span class="s2">&quot;&amp;&quot;</span><span class="o">,</span> <span class="nx">repl</span><span class="o">:</span><span class="s2">&quot;|amp|&quot;</span><span class="p">}</span><span class="o">,</span>
					<span class="p">{</span><span class="nx">char</span><span class="o">:</span><span class="s2">&quot;&lt;&quot;</span><span class="o">,</span> <span class="nx">repl</span><span class="o">:</span><span class="s2">&quot;&amp;lt;&quot;</span><span class="p">}</span><span class="o">,</span>
					<span class="p">{</span><span class="nx">char</span><span class="o">:</span><span class="s2">&quot;&gt;&quot;</span><span class="o">,</span> <span class="nx">repl</span><span class="o">:</span><span class="s2">&quot;&amp;gt;&quot;</span><span class="p">}</span><span class="o">,</span>
					<span class="p">{</span><span class="nx">char</span><span class="o">:</span><span class="s2">&quot;\&#39;&quot;</span><span class="o">,</span> <span class="nx">repl</span><span class="o">:</span><span class="s2">&quot;&amp;apos;&quot;</span><span class="p">}</span><span class="o">,</span>
					<span class="p">{</span><span class="nx">char</span><span class="o">:</span><span class="s2">&quot;\&quot;&quot;</span><span class="o">,</span> <span class="nx">repl</span><span class="o">:</span><span class="s2">&quot;&amp;quot;&quot;</span><span class="p">}</span><span class="o">,</span>
					<span class="p">{</span><span class="nx">char</span><span class="o">:</span><span class="s2">&quot;|amp|&quot;</span><span class="o">,</span> <span class="nx">repl</span><span class="o">:</span><span class="s2">&quot;&amp;amp;&quot;</span><span class="p">}</span>
				<span class="p">];</span>
			
			<span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">i</span><span class="o">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">chars</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">while</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">chars</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">char</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="nx">str</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">chars</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">char</span><span class="o">,</span> <span class="nx">chars</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">repl</span><span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
			
			<span class="k">return</span> <span class="nx">str</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <p>Converts a String to a Boolean. This method is case insensitive, and will convert 
"true", "t" and "1" to true. It converts "false", "f" and "0" to false.
@param str String to covert into a boolean. 
@return true or false</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">stringToBoolean</span><span class="p">(</span><span class="nx">str</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">Boolean</span>
		<span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">str</span><span class="o">==</span><span class="kc">null</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
			<span class="k">switch</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">())</span>
			<span class="p">{</span>
				<span class="k">case</span> <span class="s2">&quot;F&quot;</span><span class="o">:</span>
				<span class="k">case</span> <span class="s2">&quot;0&quot;</span><span class="o">:</span>
					<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
					<span class="k">break</span><span class="o">;</span>
				<span class="k">case</span> <span class="s2">&quot;T&quot;</span><span class="o">:</span>
				<span class="k">case</span> <span class="s2">&quot;1&quot;</span><span class="o">:</span>
					<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
					<span class="k">break</span><span class="o">;</span>
			<span class="p">}</span>
			
			<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <p>Capitalize the first letter of a string 
@param str String to capitalize the first leter of
@return String with the first letter capitalized.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">capitalize</span><span class="p">(</span><span class="nx">str</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span>
		<span class="p">{</span>
			<span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">str</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <p>Removes all instances of the specified character from 
the beginning and end of the specified string.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">trim</span><span class="p">(</span><span class="nx">str</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">char</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">trimBack</span><span class="p">(</span><span class="nx">trimFront</span><span class="p">(</span><span class="nx">str</span><span class="o">,</span> <span class="nx">char</span><span class="p">)</span><span class="o">,</span> <span class="nx">char</span><span class="p">);</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <p>Recursively removes all characters that match the char parameter, 
starting from the front of the string and working toward the end, 
until the first character in the string does not match char and returns 
the updated string.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">trimFront</span><span class="p">(</span><span class="nx">str</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">char</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span>
		<span class="p">{</span>
			<span class="nx">char</span> <span class="o">=</span> <span class="nx">stringToCharacter</span><span class="p">(</span><span class="nx">char</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="nx">char</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">str</span> <span class="o">=</span> <span class="nx">trimFront</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">,</span> <span class="nx">char</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">str</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <p>Recursively removes all characters that match the char parameter, 
starting from the end of the string and working backward, 
until the last character in the string does not match char and returns 
the updated string.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">trimBack</span><span class="p">(</span><span class="nx">str</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">char</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span>
		<span class="p">{</span>
			<span class="nx">char</span> <span class="o">=</span> <span class="nx">stringToCharacter</span><span class="p">(</span><span class="nx">char</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="nx">char</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">str</span> <span class="o">=</span> <span class="nx">trimBack</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span> <span class="nx">str</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">,</span> <span class="nx">char</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">str</span><span class="o">;</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <p>Returns the first character of the string passed to it. </p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">stringToCharacter</span><span class="p">(</span><span class="nx">str</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span> 
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">str</span><span class="o">;</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="p">);</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-43">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-43">&#182;</a>               </div>               <p>Determine the file extension of a file. 
@param file A path to a file.
@return The file extension.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getFileExtension</span><span class="p">(</span><span class="nx">file</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span>
		<span class="p">{</span>
			<span class="k">var</span> <span class="nx">extensionIndex</span><span class="o">:</span><span class="nb">Number</span> <span class="o">=</span> <span class="nx">file</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">extensionIndex</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-44">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-44">&#182;</a>               </div>               <p>No extension</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">file</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">extensionIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span><span class="nx">file</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-45">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-45">&#182;</a>               </div>               <p>Isolate the file name from a full file path 
@param file A path to a file.
@return The file name without any path information.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getFileName</span><span class="p">(</span><span class="nx">filePath</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nx">filePath</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">filePath</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-46">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-46">&#182;</a>               </div>               <p>Method for flipping a DisplayObject 
@param obj DisplayObject to flip
@param orientation Which orientation to use: PBUtil.FLIP<em>HORIZONTAL or PBUtil.FLIP</em>VERTICAL</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">flipDisplayObject</span><span class="p">(</span><span class="nx">obj</span><span class="o">:</span><span class="nb">DisplayObject</span><span class="o">,</span> <span class="nx">orientation</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
		<span class="p">{</span>
			<span class="k">var</span> <span class="nx">m</span><span class="o">:</span><span class="nb">Matrix</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">transform</span><span class="p">.</span><span class="nx">matrix</span><span class="o">;</span>
			<span class="err"> </span>
			<span class="k">switch</span> <span class="p">(</span><span class="nx">orientation</span><span class="p">)</span> 
			<span class="p">{</span>
				<span class="k">case</span> <span class="nx">FLIP_HORIZONTAL</span><span class="o">:</span>
					<span class="nx">m</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
					<span class="nx">m</span><span class="p">.</span><span class="nx">tx</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">width</span> <span class="o">+</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span><span class="o">;</span>
					<span class="k">break</span><span class="o">;</span>
				<span class="k">case</span> <span class="nx">FLIP_VERTICAL</span><span class="o">:</span>
					<span class="nx">m</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
					<span class="nx">m</span><span class="p">.</span><span class="nx">ty</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">height</span> <span class="o">+</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">y</span><span class="o">;</span>
					<span class="k">break</span><span class="o">;</span>
			<span class="p">}</span>
			
			<span class="nx">obj</span><span class="p">.</span><span class="nx">transform</span><span class="p">.</span><span class="nx">matrix</span> <span class="o">=</span> <span class="nx">m</span><span class="o">;</span>
		<span class="p">}</span>
		
        <span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nx">dumpRecursionSafety</span><span class="o">:</span><span class="nb">Dictionary</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Dictionary</span><span class="p">();</span>
        </pre></div>             </td>           </tr>                               <tr id="section-47">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-47">&#182;</a>               </div>               <p>Log an object to the console. Based on http://dev.base86.com/solo/47/actionscript<em>3</em>equivalent<em>of</em>phps_printr.html 
@param thisObject Object to display for logging.
@param obj Object to dump.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">dumpObjectToLogger</span><span class="p">(</span><span class="nx">thisObject</span><span class="o">:*,</span> <span class="nx">obj</span><span class="o">:*,</span> <span class="nx">level</span><span class="o">:</span><span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="nx">output</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span>
		<span class="p">{</span>
			<span class="k">var</span> <span class="nx">tabs</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">;</span>
			<span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">i</span><span class="o">:</span><span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">level</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> 
                <span class="nx">tabs</span> <span class="o">+=</span> <span class="s2">&quot;\t&quot;</span><span class="o">;</span>
			
            <span class="k">var</span> <span class="nx">fields</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> <span class="nx">TypeUtility</span><span class="p">.</span><span class="nx">getListOfPublicFields</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
            
			<span class="k">for</span> <span class="k">each</span><span class="p">(</span><span class="k">var</span> <span class="nx">child</span><span class="o">:*</span> <span class="k">in</span> <span class="nx">fields</span><span class="p">)</span> 
            <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-48">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-48">&#182;</a>               </div>               <p>Only dump things once.</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="k">if</span><span class="p">(</span><span class="nx">dumpRecursionSafety</span><span class="p">[</span><span class="nx">child</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="k">continue</span><span class="o">;</span>
                <span class="nx">dumpRecursionSafety</span><span class="p">[</span><span class="nx">child</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
                
				<span class="nx">output</span> <span class="o">+=</span> <span class="nx">tabs</span> <span class="o">+</span><span class="s2">&quot;[&quot;</span><span class="o">+</span> <span class="nx">child</span> <span class="o">+</span><span class="s2">&quot;] =&gt; &quot;</span><span class="o">+</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">child</span><span class="p">];</span>
				
				<span class="k">var</span> <span class="nx">childOutput</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="nx">dumpObjectToLogger</span><span class="p">(</span><span class="nx">thisObject</span><span class="o">,</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">child</span><span class="p">]</span><span class="o">,</span> <span class="nx">level</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">childOutput</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="nx">output</span> <span class="o">+=</span> <span class="s1">&#39; {\n&#39;</span><span class="o">+</span> <span class="nx">childOutput</span> <span class="o">+</span> <span class="nx">tabs</span> <span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="o">;</span>
				
				<span class="nx">output</span> <span class="o">+=</span> <span class="s2">&quot;\n&quot;</span><span class="o">;</span>
			<span class="p">}</span>
			
			<span class="k">if</span><span class="p">(</span><span class="nx">level</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-49">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-49">&#182;</a>               </div>               <p>Clear the recursion safety net.</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="nx">dumpRecursionSafety</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Dictionary</span><span class="p">();</span>
                
				<span class="nx">Logger</span><span class="p">.</span><span class="nx">print</span><span class="p">(</span><span class="nx">thisObject</span><span class="o">,</span> <span class="nx">output</span><span class="p">);</span>
				<span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">;</span>
			<span class="p">}</span>
			
			<span class="k">return</span> <span class="nx">output</span><span class="o">;</span>
		<span class="p">}</span>        
       </pre></div>             </td>           </tr>                               <tr id="section-50">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-50">&#182;</a>               </div>               <p>Make a deep copy of an object.</p>

<p>Only really works well with all-public objects, private/protected
fields will not be respected.</p>

<p>@param source Object to copy.
@return New instance of object with all public fields set.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">clone</span><span class="p">(</span><span class="nx">source</span><span class="o">:</span><span class="nb">Object</span><span class="p">)</span><span class="o">:</span><span class="nb">Object</span> 
		<span class="p">{</span>
			<span class="k">var</span> <span class="nx">clone</span><span class="o">:</span><span class="nb">Object</span><span class="o">;</span>
			<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">source</span><span class="p">)</span>
				<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>

			<span class="nx">clone</span> <span class="o">=</span> <span class="nx">newSibling</span><span class="p">(</span><span class="nx">source</span><span class="p">);</span>
			
			<span class="k">if</span><span class="p">(</span><span class="nx">clone</span><span class="p">)</span> 
				<span class="nx">copyData</span><span class="p">(</span><span class="nx">source</span><span class="o">,</span> <span class="nx">clone</span><span class="p">);</span>
			
			<span class="k">return</span> <span class="nx">clone</span><span class="o">;</span>
		<span class="p">}</span>
		
		<span class="kd">protected</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">newSibling</span><span class="p">(</span><span class="nx">sourceObj</span><span class="o">:</span><span class="nb">Object</span><span class="p">)</span><span class="o">:*</span> 
		<span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">sourceObj</span><span class="p">)</span>
				<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
				
			<span class="k">var</span> <span class="nx">objSibling</span><span class="o">:*;</span>
			<span class="k">try</span> 
			<span class="p">{</span>
				<span class="k">var</span> <span class="nx">classOfSourceObj</span><span class="o">:</span><span class="nb">Class</span> <span class="o">=</span> <span class="nx">getDefinitionByName</span><span class="p">(</span><span class="nx">getQualifiedClassName</span><span class="p">(</span><span class="nx">sourceObj</span><span class="p">))</span> <span class="nx">as</span> <span class="nb">Class</span><span class="o">;</span>
				<span class="nx">objSibling</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classOfSourceObj</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nb">Object</span><span class="p">)</span> 
			<span class="p">{</span>
			<span class="p">}</span>
			
			<span class="k">return</span> <span class="nx">objSibling</span><span class="o">;</span>
		<span class="p">}</span>
		
		<span class="kd">protected</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">copyData</span><span class="p">(</span><span class="nx">source</span><span class="o">:</span><span class="nb">Object</span><span class="o">,</span> <span class="nx">destination</span><span class="o">:</span><span class="nb">Object</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span> 
        <span class="p">{</span>
			</pre></div>             </td>           </tr>                               <tr id="section-51">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-51">&#182;</a>               </div>               <p>copies data from commonly named properties and getter/setter pairs</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span><span class="p">((</span><span class="nx">source</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">destination</span><span class="p">))</span> 
            <span class="p">{</span>
				<span class="k">try</span> <span class="p">{</span>
					<span class="k">var</span> <span class="nx">sourceInfo</span><span class="o">:</span><span class="nb">XML</span> <span class="o">=</span> <span class="nx">describeType</span><span class="p">(</span><span class="nx">source</span><span class="p">);</span>
					<span class="k">var</span> <span class="nx">prop</span><span class="o">:</span><span class="nb">XML</span><span class="o">;</span>
					
					<span class="k">for</span> <span class="k">each</span><span class="p">(</span><span class="nx">prop</span> <span class="k">in</span> <span class="nx">sourceInfo</span><span class="p">.</span><span class="nx">variable</span><span class="p">)</span> 
                    <span class="p">{</span>
						<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">destination</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">prop</span><span class="p">.</span><span class="err">@</span><span class="nx">name</span><span class="p">))</span>
                            <span class="k">continue</span><span class="o">;</span>
						<span class="nx">destination</span><span class="p">[</span><span class="nx">prop</span><span class="p">.</span><span class="err">@</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">source</span><span class="p">[</span><span class="nx">prop</span><span class="p">.</span><span class="err">@</span><span class="nx">name</span><span class="p">];</span>
					<span class="p">}</span>
					
					<span class="k">for</span> <span class="k">each</span><span class="p">(</span><span class="nx">prop</span> <span class="k">in</span> <span class="nx">sourceInfo</span><span class="p">.</span><span class="nx">accessor</span><span class="p">)</span> 
                    <span class="p">{</span>
						<span class="k">if</span><span class="p">(</span><span class="nx">prop</span><span class="p">.</span><span class="err">@</span><span class="nx">access</span> <span class="o">!=</span> <span class="s2">&quot;readwrite&quot;</span><span class="p">)</span>
                            <span class="k">continue</span><span class="o">;</span>
						
                        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">destination</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">prop</span><span class="p">.</span><span class="err">@</span><span class="nx">name</span><span class="p">))</span> 
                            <span class="k">continue</span><span class="o">;</span>

                        <span class="nx">destination</span><span class="p">[</span><span class="nx">prop</span><span class="p">.</span><span class="err">@</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">source</span><span class="p">[</span><span class="nx">prop</span><span class="p">.</span><span class="err">@</span><span class="nx">name</span><span class="p">];</span>
					<span class="p">}</span>
				<span class="p">}</span>
				<span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="o">:</span><span class="nb">Object</span><span class="p">)</span> 
                <span class="p">{</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
		</pre></div>             </td>           </tr>                               <tr id="section-52">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-52">&#182;</a>               </div>               <p>Recursively searches for an object with the specified name that has been added to the
display hierarchy.</p>

<p>@param name The name of the object to find.</p>

<p>@return The display object with the specified name, or null if it wasn't found.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">findChild</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">displayObjectToSearch</span><span class="o">:</span><span class="nb">DisplayObject</span><span class="p">)</span><span class="o">:</span><span class="nb">DisplayObject</span>
		<span class="p">{</span>
			<span class="k">return</span> <span class="nx">_findChild</span><span class="p">(</span><span class="nx">name</span><span class="o">,</span> <span class="nx">displayObjectToSearch</span><span class="p">);</span>
		<span class="p">}</span>
		
		<span class="kd">protected</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">_findChild</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">current</span><span class="o">:</span><span class="nb">DisplayObject</span><span class="p">)</span><span class="o">:</span><span class="nb">DisplayObject</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">current</span><span class="p">)</span>
				<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
			
			<span class="k">if</span> <span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">name</span> <span class="o">==</span> <span class="nx">name</span><span class="p">)</span>
				<span class="k">return</span> <span class="nx">current</span><span class="o">;</span>
			
			<span class="k">var</span> <span class="nx">parent</span><span class="o">:</span><span class="nb">DisplayObjectContainer</span> <span class="o">=</span> <span class="nx">current</span> <span class="nx">as</span> <span class="nb">DisplayObjectContainer</span><span class="o">;</span>
			
			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">parent</span><span class="p">)</span>
				<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
			
			<span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">i</span><span class="o">:</span><span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">numChildren</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">var</span> <span class="nx">child</span><span class="o">:</span><span class="nb">DisplayObject</span> <span class="o">=</span> <span class="nx">_findChild</span><span class="p">(</span><span class="nx">name</span><span class="o">,</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">getChildAt</span><span class="p">(</span><span class="nx">i</span><span class="p">));</span>
				<span class="k">if</span> <span class="p">(</span><span class="nx">child</span><span class="p">)</span>
					<span class="k">return</span> <span class="nx">child</span><span class="o">;</span>
			<span class="p">}</span>
			
			<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
		<span class="p">}</span>
        </pre></div>             </td>           </tr>                               <tr id="section-53">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-53">&#182;</a>               </div>               <p>Return a function that calls a specified function with the provided arguments.</p>

<p>For instance, function a(b,c) through closurize(a, b, c) becomes 
a function() that calls function a(b,c);</p>

<p>Thanks to Rob Sampson <www.calypso88.com>.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">closurize</span><span class="p">(</span><span class="nx">func</span><span class="o">:</span><span class="nb">Function</span><span class="o">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span><span class="o">:</span><span class="nb">Function</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-54">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-54">&#182;</a>               </div>               <p>Create a new function...</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">return</span> <span class="kd">function</span><span class="p">()</span><span class="o">:*</span> 
            <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-55">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-55">&#182;</a>               </div>               <p>Call the original function with provided args.</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="k">return</span> <span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="o">,</span> <span class="nx">args</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-56">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-56">&#182;</a>               </div>               <p>Return a function that calls a specified function with the provided arguments
APPENDED to its provided arguments.</p>

<p>For instance, function a(b,c) through closurizeAppend(a, c) becomes 
a function(b) that calls function a(b,c);</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">closurizeAppend</span><span class="p">(</span><span class="nx">func</span><span class="o">:</span><span class="nb">Function</span><span class="o">,</span> <span class="p">...</span><span class="nx">additionalArgs</span><span class="p">)</span><span class="o">:</span><span class="nb">Function</span>
        <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-57">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-57">&#182;</a>               </div>               <p>Create a new function...</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">return</span> <span class="kd">function</span><span class="p">(...</span><span class="nx">localArgs</span><span class="p">)</span><span class="o">:*</span> 
            <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-58">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-58">&#182;</a>               </div>               <p>Combine parameter lists.</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="k">var</span> <span class="nx">argsCopy</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> <span class="nx">localArgs</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">additionalArgs</span><span class="p">);</span>
                </pre></div>             </td>           </tr>                               <tr id="section-59">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-59">&#182;</a>               </div>               <p>Call the original function.</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="k">return</span> <span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="o">,</span> <span class="nx">argsCopy</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-60">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-60">&#182;</a>               </div>               <p>Return a sorted list of the keys in a dictionary</p>             </td>             <td class="code">               <div class="highlight"><pre>    	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getSortedDictionaryKeys</span><span class="p">(</span><span class="nx">dict</span><span class="o">:</span><span class="nb">Object</span><span class="p">)</span><span class="o">:</span><span class="nb">Array</span>
		<span class="p">{</span>
			<span class="k">var</span> <span class="nx">keylist</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>
			<span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">key</span><span class="o">:</span><span class="nb">String</span> <span class="k">in</span> <span class="nx">dict</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="nx">keylist</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="nx">keylist</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
			
			<span class="k">return</span> <span class="nx">keylist</span><span class="o">;</span>
		<span class="p">}</span>
      </pre></div>             </td>           </tr>                               <tr id="section-61">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-61">&#182;</a>               </div>               <p>Return a sorted list of the values in a dictionary</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">getSortedDictionaryValues</span><span class="p">(</span><span class="nx">dict</span><span class="o">:</span><span class="nb">Dictionary</span><span class="p">)</span><span class="o">:</span><span class="nb">Array</span>
      <span class="p">{</span>
         <span class="k">var</span> <span class="nx">valuelist</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>
         <span class="k">for</span> <span class="k">each</span> <span class="p">(</span><span class="k">var</span> <span class="nx">value</span><span class="o">:</span><span class="nb">Object</span> <span class="k">in</span> <span class="nx">dict</span><span class="p">)</span>
         <span class="p">{</span>
            <span class="nx">valuelist</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
         <span class="p">}</span>
         <span class="nx">valuelist</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
         
         <span class="k">return</span> <span class="nx">valuelist</span><span class="o">;</span>
      <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-62">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-62">&#182;</a>               </div>               <p>Given an array of items and an array of weights,
select a random item. Items with higher weights
are more likely to be selected.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">selectRandomWeightedItem</span><span class="p">(</span><span class="nx">items</span><span class="o">:</span><span class="nb">Array</span><span class="o">,</span> <span class="nx">weights</span><span class="o">:</span><span class="nb">Array</span><span class="p">)</span><span class="o">:</span><span class="nb">Object</span>
      <span class="p">{</span>
          <span class="k">var</span> <span class="nx">total</span><span class="o">:</span><span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
          <span class="k">var</span> <span class="nx">ranges</span><span class="o">:</span><span class="nb">Array</span> <span class="o">=</span> <span class="p">[];</span>
          <span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">i</span><span class="o">:</span><span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
          <span class="p">{</span>
              <span class="nx">ranges</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">start</span><span class="o">:</span> <span class="nx">total</span><span class="o">,</span> <span class="nx">end</span><span class="o">:</span> <span class="nx">total</span><span class="o">+</span><span class="nx">weights</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">};</span>
              <span class="nx">total</span><span class="o">+=</span><span class="nx">weights</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>   
          <span class="p">}</span>
          
          <span class="k">var</span> <span class="nx">rand</span><span class="o">:</span><span class="nb">int</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">total</span><span class="o">;</span>
          
          <span class="k">var</span> <span class="nx">item</span><span class="o">:</span><span class="nb">Object</span> <span class="o">=</span> <span class="nx">items</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
          
          <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">ranges</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
          <span class="p">{</span>
              <span class="k">if</span> <span class="p">(</span><span class="nx">rand</span> <span class="o">&gt;=</span> <span class="nx">ranges</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">start</span> <span class="o">&amp;&amp;</span> <span class="nx">rand</span> <span class="o">&lt;=</span> <span class="nx">ranges</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">end</span><span class="p">)</span>
              <span class="p">{</span>
                  <span class="nx">item</span> <span class="o">=</span> <span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
                  <span class="k">break</span><span class="o">;</span>
              <span class="p">}</span>
          <span class="p">}</span> 
          
          <span class="k">return</span> <span class="nx">item</span><span class="o">;</span>
      <span class="p">}</span>
      </pre></div>             </td>           </tr>                               <tr id="section-63">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-63">&#182;</a>               </div>               <p>Instantiate a new object of the same type passed in to this 
function.  </p>

<p>This does not copy any properties from the object, it simply
instantiates a new object of the same type.  </p>

<p>@param obj The object to create an empty copy of
@return A new object of the type passed in to the function</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">instantiateCloneObject</span><span class="p">(</span><span class="nx">obj</span><span class="o">:</span><span class="nb">Object</span><span class="p">)</span><span class="o">:</span><span class="nb">Object</span>
      <span class="p">{</span>
          <span class="k">var</span> <span class="nx">sourceClass</span><span class="o">:</span><span class="nb">Class</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">(</span><span class="nx">obj</span><span class="p">).</span><span class="nx">constructor</span><span class="o">;</span>
          <span class="k">return</span> <span class="k">new</span> <span class="nx">sourceClass</span><span class="p">();</span>
      <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-64">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-64">&#182;</a>               </div>               <p>A Regular expression to match special Regular expression characters </p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">const</span> <span class="nx">MATCH_SPECIAL_REGEXP</span><span class="o">:</span><span class="nb">RegExp</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;([{}\(\)\^$&amp;.\/\+\|\[\\\\]|\]|\-)&quot;</span><span class="o">,</span><span class="s2">&quot;g&quot;</span><span class="p">);</span>
      </pre></div>             </td>           </tr>                               <tr id="section-65">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-65">&#182;</a>               </div>               <p>A Regular Expression for matching * and ? wildcard characters</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">const</span> <span class="nx">MATCH_WILDCARDS_REGEXP</span><span class="o">:</span><span class="nb">RegExp</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;([\*\?])&quot;</span><span class="o">,</span><span class="s2">&quot;g&quot;</span><span class="p">);</span>
      </pre></div>             </td>           </tr>                               <tr id="section-66">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-66">&#182;</a>               </div>               <p>Match a wildcard pattern (*,?) with a given source string.</p>

<p>@return True if the pattern matches the source string </p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">matchWildcard</span><span class="p">(</span><span class="nx">source</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">wildcard</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">Boolean</span>
      <span class="p">{</span>
          <span class="k">var</span> <span class="nx">regexp</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="nx">wildcard</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">MATCH_SPECIAL_REGEXP</span><span class="o">,</span><span class="s2">&quot;\\$1&quot;</span><span class="p">);</span> 
          <span class="nx">regexp</span> <span class="o">=</span> <span class="s2">&quot;^&quot;</span> <span class="o">+</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">MATCH_WILDCARDS_REGEXP</span><span class="o">,</span><span class="s2">&quot;.$1&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span><span class="o">;</span>
          <span class="k">return</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">source</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">regexp</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
      <span class="p">}</span>
      </pre></div>             </td>           </tr>                               <tr id="section-67">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-67">&#182;</a>               </div>               <p>Convert milliseconds to seconds
*/</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">convertMillisecondsToSeconds</span><span class="p">(</span><span class="nx">mil</span><span class="o">:</span><span class="nb">int</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
      <span class="p">{</span>
          <span class="k">return</span> <span class="nx">mil</span> <span class="o">/</span> <span class="mi">1000</span><span class="o">;</span>
      <span class="p">}</span>
      </pre></div>             </td>           </tr>                               <tr id="section-68">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-68">&#182;</a>               </div>               <p>Convert seconds to milliseconds
*/</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">convertSecondsToMilliseconds</span><span class="p">(</span><span class="nx">seconds</span><span class="o">:</span><span class="nb">int</span><span class="p">)</span><span class="o">:</span><span class="nb">Number</span>
      <span class="p">{</span>
          <span class="k">return</span> <span class="nx">seconds</span> <span class="o">*</span> <span class="mi">1000</span><span class="o">;</span>
      <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-69">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-69">&#182;</a>               </div>               <p>Return a new string that replaces the given search string with
the replace string.
@param str String to search in
@param oldSubStr String to search for
@param newSubStr String to replace.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function</span> <span class="nx">replaceString</span><span class="p">(</span><span class="nx">str</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">oldSubStr</span><span class="o">:</span><span class="nb">String</span><span class="o">,</span> <span class="nx">newSubStr</span><span class="o">:</span><span class="nb">String</span><span class="p">)</span><span class="o">:</span><span class="nb">String</span> 
      <span class="p">{</span>
          <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">oldSubStr</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="nx">newSubStr</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 